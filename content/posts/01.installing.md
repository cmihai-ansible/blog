---
title: Installing ansible
author: 'cmihai'
date: 2019-01-01
draft: false
description: >-
  Installing ansible
categories:
  - ansible
tags:
  - install
cover: "img/ansible.png"
---

Setup a virtual env for python
------------------------------

```bash
python3 -m venv ~/ansible-molecule
source ~/ansible molecule/bin/activate
pip3 install --upgrade pip
```

> Note: when not using a venv, use the `--user` flag with pip.


Install ansible
---------------

```bash
# Install ansible
pip3 install --upgrade ansible

# Install lint tools
pip3 install --upgrade ansible-lint yamllint

# Install test tools
pip3 install --upgrade \
  "molecule[docker]" "molecule[podman]" \
  python-vagrant molecule-libvirt
```

Installing roles from ansible galaxy
------------------------------------

```bash
ansible-galaxy install crivetimihai.apache
```

Using a role
------------

Create a file called apache.yml

```yaml
---
- name: Install apache on localhost
  hosts:
    - localhost
  connection: local

  tasks:
    - name: apache is configured
      import_role:
        name: crivetimihai.apache
      vars:
        apache_enable_service: true
        apache_copy_templates: true
        apache_firewall_configure: true
        apache_firewall_rules:
          - service: http
          - service: https
      tags: apache
```

Install the role on your server:

```bash
ansible-playbook apache.yml
```
